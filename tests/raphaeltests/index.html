<html>
  <head>
    <title>Raphael Tests</title>
    <style type="text/css" media="screen">
      svg {
        border: solid black 2px;
      }
    </style>
    <script src="raphael-min.js" type="text/javascript" charset="utf-8"></script>
    <script type="text/javascript" charset="utf-8">
    
      var rects = [];
      
      window.onload = function() {
        
        var paper = Raphael("container", 1200, 800);
        
        var w = 10
        var h = 10
        
        var cols = (paper.width - 200) / w
        var rows = paper.height / h
        
        var numrects = 0;
        /*
        console.log("-------- DRAW --------")
        
        var start = new Date()
        for(var r=0; r < rows; r++) {
          rects[r] = []
          for(var c=0; c < cols; c++) {
            rects[r].push({x: c * w, y: r * h, w: w, h: h})
            numrects++
          }
        }
        console.log(numrects + " rects")
        var end = new Date()
        
        var millisElapsed = end.getTime() - start.getTime()
        console.log(millisElapsed / 1000 + " sec")
        console.log(millisElapsed / numrects + " ms per rect")
        
      }
      function move() {
        console.log("-------- MOVE --------")
        var start = new Date()
        var numMoved = 0
        for (var r=0; r < rects.length; r++) {
          for (var c=0; c < rects[r].length; c++) {
            var rect = rects[r][c]
            rect.x += 200
            numMoved++
          }
        }
        var end = new Date()
        var millisElapsed = end.getTime() - start.getTime()
        console.log(millisElapsed / 1000 + " sec")
        console.log(millisElapsed / numMoved + " ms per move")
      }
      */
      console.log("-------- DRAW --------")
      
      var start = new Date()
      for(var r=0; r < rows; r++) {
        rects[r] = []
        for(var c=0; c < cols; c++) {
          rects[r].push(paper.rect(c * w, r * h, w, h))
          numrects++
        }
      }
      console.log(numrects + " rects")
      var end = new Date()
      
      var millisElapsed = end.getTime() - start.getTime()
      console.log(millisElapsed / 1000 + " sec")
      console.log(millisElapsed / numrects + " ms per rect")
      
    }
    function move() {
      console.log("-------- MOVE --------")
      var start = new Date()
      var numMoved = 0
      for (var r=0; r < rects.length; r++) {
        for (var c=0; c < rects[r].length; c++) {
          rects[r][c].translate(200, 0)
        }
      }
      var end = new Date()
      var millisElapsed = end.getTime() - start.getTime()
      console.log(millisElapsed / 1000 + " sec")
      console.log(millisElapsed / numMoved + " ms per move")
    }
    </script>
  </head>
  <body>
    <div id="container"></div>
    <input type="button" name="move" value="Move" id="move" onclick="move()">
  </body>
</html>